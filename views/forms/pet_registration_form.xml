<odoo>
    <record id="action_pet_registration_form" model="ir.actions.act_window">
        <field name="name">Pet Registration Form</field>
        <field name="res_model">form.pet_registration</field>
        <field name="view_mode">list,form</field>
    </record>
    <record id="view_pet_registration_form_list" model="ir.ui.view">
        <field name="name">form.pet.registration.list</field>
        <field name="model">form.pet_registration</field>
        <field name="arch" type="xml">
            <list>
                <field name="create_date"/>
                <field name="requestor_id"/>
            </list>
        </field>
    </record>
    <record id="view_pet_registration_form" model="ir.ui.view">
        <field name="name">pet.registration.form</field>
        <field name="model">form.pet_registration</field>
        <field name="arch" type="xml">
            <form string="Pet Registration">
            <header>
                <button name="action_submit"
                    string="Submit"
                    type="object"
                    class="btn-primary"
                    invisible="not can_submit"/>

                <button name="action_under_review"
                        string="Under Review"
                        type="object"
                        class="btn-primary"
                        invisible="not can_under_review"/>

                <button name="action_complete"
                        string="Complete"
                        type="object"
                        class="btn-primary"
                        invisible="not can_complete"/>

                <button name="action_reject"
                        string="Reject"
                        type="object"
                        class="btn-secondary"
                        invisible="not can_reject"/>

                <button name="action_cancel"
                        string="Cancel"
                        type="object"
                        class="btn-secondary"
                        invisible="not can_cancel"/>

                <button name="action_draft"
                        string="Reset to Draft"
                        type="object"
                        class="btn-secondary"
                        invisible="not can_draft"/>
                <field name="state" widget="statusbar" clickable="1" statusbar_visible="draft,submitted,under_review,completed,rejected,cancelled"/>
            </header>
                <sheet>
                    <!-- <div class="oe_button_box" name="button_box">
                        <button name="action_open_sign_request"
                                type="object"
                                class="oe_stat_button"
                                icon="fa-pencil-square-o"
                                invisible="sign_request_id == False">
                            <field name="sign_request_id" invisible="1"/>
                            <div class="o_stat_info o_stat_info_with_icon">
                                <span class="o_stat_text">Signature Request</span>
                            </div>
                        </button>
                    </div> -->
                    <group>
                            <!-- Make requestor_id readonly if the form is locked -->
                            <field name="requestor_id" readonly="is_locked"/>
                        </group>

                        <notebook>
                            <page string="Pet Details">
                                <field name="pet_ids">
                                    <list editable="bottom">
                                        <field name="name" readonly="context.get('parent_is_locked', False)"/>
                                        <field name="species" readonly="context.get('parent_is_locked', False)"/>
                                        <field name="breed" readonly="context.get('parent_is_locked', False)"/>
                                        <field name="age" readonly="context.get('parent_is_locked', False)"/>
                                        <field name="gender" readonly="context.get('parent_is_locked', False)"/>
                                        <field name="is_vaccinated" readonly="context.get('parent_is_locked', False)"/>
                                    </list>
                                    <form>
                                        <group>
                                            <field name="name" readonly="context.get('parent_is_locked', False)"/>
                                            <field name="species" readonly="context.get('parent_is_locked', False)"/>
                                            <field name="breed" readonly="context.get('parent_is_locked', False)"/>
                                            <field name="age" readonly="context.get('parent_is_locked', False)"/>
                                            <field name="gender" readonly="context.get('parent_is_locked', False)"/>
                                            <field name="details" readonly="context.get('parent_is_locked', False)"/>
                                            <field name="is_vaccinated" readonly="context.get('parent_is_locked', False)"/>
                                        </group>
                                    </form>
                                </field>
                            </page>

                            <page string="Review / Remarks">
                                <group>
                                </group>
                            </page>
                        </notebook>
                </sheet>
            </form>
        </field>
    </record>
</odoo>
